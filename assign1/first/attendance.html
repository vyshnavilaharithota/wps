<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>Document</title>
</head>

<body style="background-image: url(bg.jpg);">
    <nav class="white">
        <div class="nav-wrapper container">
            <ul id="nav-mobile" class="right hide-on-med-and-down">
                <li><a class="blue-text text-darken-4" href="personal.html">Personal Information</a></li>
                <li><a class="blue-text text-darken-4" href="academic.html">Academic</a></li>
                <li><a class="blue-text text-darken-4" href="proctor.html">Proctor</a></li>
                <li><a class="blue-text text-darken-5" href="attendance.html" class="blue darken-5">Attendance</a></li>
                <li><a class="blue-text text-darken-4" href="view.html">View Details</a></li>
                <li><a class="blue-text text-darken-4" href="index.html">Home</a></li>
            </ul>
            <a href="#slide-out" class=" sidenav-trigger black-text"><i class="fa fa-bars" aria-hidden="true"></i></a>
        </div>
    </nav>
    <ul id="slide-out" class="sidenav">
        <li><a class="blue-text text-darken-4" href="personal.html">Personal Information</a></li>
        <li><a class="blue-text text-darken-4" href="academic.html">Academic</a></li>
        <li><a class="blue-text text-darken-4" href="proctor.html">Proctor</a></li>
        <li><a class="blue-text text-darken-5" href="attendance.html" class="blue-text text-darken-5">Attendance</a>
        </li>
        <li><a class="blue-text text-darken-4" href="view.html">View Details</a></li>
        <li><a class="blue-text text-darken-4" href="index.html">Home</a></li>

    </ul>
    <div class="center container">

        <div style="height: 22vh;"> </div>
        <div class="container">
            <div class="card-panel" style="opacity: 0.7;">
                <button class="btn blue darken-4 right" onclick="edit()">edit</button>
                <form onsubmit="response()" id="myform">
                    <div class="input-field">
                        <label>Percentage</label>
                        <input id="ap" type="text" pattern="(^100(\.0{1,2})?$)|(^([1-9]([0-9])?|0)(\.[0-9]{1,2})?$)"
                            required>
                    </div>
                    <div class="input-field">
                        <label>Total Classes</label>
                        <input id="tc" type="number">
                    </div>
                    <div class="input-field">
                        <label>Total Classes attended</label>
                        <input id="ac" type="number">
                    </div>
                    <div class="center">
                        <button class="btn blue darken-4" type="submit">Submit</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script>
        var elems = document.querySelectorAll('.sidenav');
        var instances = M.Sidenav.init(elems, {});
    </script>
    <script>
        function edit() {
            var obj = localStorage.getItem('attendance');
            obj = JSON.parse(obj);
            document.getElementById('ap').value = obj['ap'];
            document.getElementById('tc').value = obj['tc'];
            document.getElementById('ac').value = obj['ac'];
        }
        function response() {
            var obj = {
                'ap': document.forms['myform'].elements['ap'].value,
                'tc': document.forms['myform'].elements['tc'].value,
                'ac': document.forms['myform'].elements['ac'].value,
            }
            localStorage.setItem('attendance', JSON.stringify(obj));
        }
    </script>
</body>

</html>